"use strict";(self["webpackChunkmusic"]=self["webpackChunkmusic"]||[]).push([[572],{3572:function(e,a,s){s.r(a),s.d(a,{default:function(){return M}});var t=s(3396);const i={class:"search"};function l(e,a,s,l,n,o){const d=(0,t.up)("searchTop");return(0,t.wg)(),(0,t.iD)("div",i,[(0,t.Wm)(d)])}var n=s(9242),o=s(7139);const d=e=>((0,t.dD)("data-v-273826e4"),e=e(),(0,t.Cn)(),e),c={class:"search-top"},r={class:"top"},v=d((()=>(0,t._)("use",{"xlink:href":"#icon-zuojiantou"},null,-1))),u=[v],h=["placeholder"],p=d((()=>(0,t._)("div",{class:"topimg"},[(0,t._)("img",{src:"https://dingyue.ws.126.net/2022/0417/2d80b688j00rahlxs005hd000zk00gdp.jpg",alt:""})],-1))),g={class:"textHistory"},w=d((()=>(0,t._)("h4",null,"历史",-1))),k=["onClick"],y={class:"hotsearch"},m=(0,t.uE)('<div class="one" data-v-273826e4><h4 data-v-273826e4>热搜榜单</h4><p data-v-273826e4>播放全部</p></div><div class="musicList" data-v-273826e4><ul data-v-273826e4><li data-v-273826e4><p data-v-273826e4>1</p><h4 data-v-273826e4>会不会</h4><span data-v-273826e4><i data-v-273826e4>Hot</i></span></li><li data-v-273826e4><p data-v-273826e4>2</p><h4 data-v-273826e4>青花瓷</h4><span data-v-273826e4><i data-v-273826e4>Hot</i></span></li><li data-v-273826e4><p data-v-273826e4>3</p><h4 data-v-273826e4>RBQ</h4><span data-v-273826e4><i data-v-273826e4>Hot</i></span></li><li data-v-273826e4><p data-v-273826e4>4</p><h4 data-v-273826e4>Lemon</h4><span data-v-273826e4></span></li></ul></div><div class="moreMusic" data-v-273826e4><span data-v-273826e4>展开更多热搜</span></div>',3),_=[m],f={key:0,class:"getSearch"},S=d((()=>(0,t._)("div",{class:"title"},[(0,t._)("h4",null,"单曲"),(0,t._)("span",null,[(0,t._)("svg",{class:"icon","aria-hidden":"true"},[(0,t._)("use",{"xlink:href":"#icon-bofang"})]),(0,t.Uk)(" 播放全部 ")])],-1))),H={class:"searchList"},L={class:"name"},x=d((()=>(0,t._)("i",null,"SQ",-1))),D=(0,t.uE)('<div class="operation" data-v-273826e4><svg class="icon" aria-hidden="true" data-v-273826e4><use xlink:href="#icon-bofang" data-v-273826e4></use></svg><svg class="icon" aria-hidden="true" data-v-273826e4><use xlink:href="#icon-androidgengduo" data-v-273826e4></use></svg></div>',1);function b(e,a,s,i,l,d){return(0,t.wg)(),(0,t.iD)("div",c,[(0,t._)("div",r,[((0,t.wg)(),(0,t.iD)("svg",{class:"icon","aria-hidden":"true",onClick:a[0]||(a[0]=a=>e.$router.go(-1))},u)),(0,t.wy)((0,t._)("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>i.histext=e),placeholder:i.placeholder,onKeydown:a[2]||(a[2]=(0,n.D2)((e=>(i.searchMethod(),i.addHistory())),["enter"]))},null,40,h),[[n.nr,i.histext,void 0,{trim:!0}]])]),p,(0,t._)("div",g,[(0,t._)("ul",null,[w,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(i.getkeyword.list,((e,a)=>((0,t.wg)(),(0,t.iD)("li",{onClick:a=>i.clickHistory(e)},(0,o.zw)(e),9,k)))),256))])]),(0,t.wy)((0,t._)("div",y,_,512),[[n.F8,i.searchShow]]),i.searchShow?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",f,[S,(0,t._)("div",H,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.searchList,((e,a)=>((0,t.wg)(),(0,t.iD)("div",{class:"item",key:e.id},[(0,t._)("div",L,[(0,t._)("h4",null,(0,o.zw)(e.name),1),(0,t._)("span",null,[x,(0,t.Uk)(" "+(0,o.zw)(e.artists[0].name),1)])]),D])))),128))])]))])}var j=s(7707);function C(e,a,s){return(0,j.W)("http://139.155.39.14:3000"+e,a,s)}var z=s(4870),W={name:"Listview-top",props:{playlist:{type:Object},privileges:{type:Array}},components:{},setup(e){let a=(0,z.iH)("周杰伦热歌"),s=(0,z.iH)(!0),i=(0,z.iH)(""),l=(0,z.qj)({list:[]}),n=(0,z.qj)({list:[""]}),o=(0,z.qj)({searchList:[""]});const d=function(){let e=JSON.parse(localStorage.getItem("keyWordList"))||[];console.log("历史记录为",e),e=[...new Set(e)],console.log("去重后为",e),e.push(i.value),l.list=e,l.list=[...new Set(l.list)],localStorage.setItem("keyWordList",JSON.stringify(l.list)),i.value="",console.log("keywordlist",l.list)},c=async function(e){if(console.log("我执行了"),e){const a=await C("/search","get",{keywords:e});o.searchList=a.data.result.songs}else{const e=await C("/search","get",{keywords:i.value});o.searchList=e.data.result.songs}},r=function(e){c(e)};return(0,t.YP)((()=>o),((e,a)=>{console.log("搜索的结果",o.searchList),s.value=!1}),{deep:!0}),(0,t.bv)((()=>{n.list=JSON.parse(localStorage.getItem("keyWordList")),console.log("取出的值",n.list)})),{placeholder:a,histext:i,addHistory:d,keyword:l,getkeyword:n,searchMethod:c,searchShow:s,...(0,z.BK)(o),clickHistory:r}}},q=s(89);const I=(0,q.Z)(W,[["render",b],["__scopeId","data-v-273826e4"]]);var K=I,O={name:"SearchView",components:{searchTop:K}};const J=(0,q.Z)(O,[["render",l]]);var M=J}}]);
//# sourceMappingURL=572.49152dc6.js.map