{"version":3,"file":"js/572.49152dc6.js","mappings":"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","sources":["webpack://music/./src/views/SearchView.vue","webpack://music/./src/components/Search-top.vue","webpack://music/./src/network/search.js","webpack://music/./src/components/Search-top.vue?4776","webpack://music/./src/views/SearchView.vue?f97a"],"sourcesContent":["<!--搜索页面-->\r\n<template>\r\n    <div class=\"search\">\r\n    <!-- 顶部 -->\r\n      <searchTop></searchTop>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\nimport searchTop from '@/components/Search-top'\r\nexport default {\r\n  name: \"SearchView\",\r\n  components:{\r\n    searchTop,\r\n  },\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","<template>\r\n   <div class=\"search-top\">\r\n        <div class=\"top\">\r\n          <!--左箭头-->\r\n          <svg class=\"icon\" aria-hidden=\"true\" @click=\"$router.go(-1)\">\r\n            <use xlink:href=\"#icon-zuojiantou\"></use>\r\n          </svg>\r\n        <!-- 输入框-->\r\n          <input type=\"text\" v-model.trim=\"histext\" :placeholder=\"placeholder\" @keydown.enter=\"searchMethod(),addHistory()\">\r\n        </div>\r\n        <div class=\"topimg\">\r\n          <img src=\"https://dingyue.ws.126.net/2022/0417/2d80b688j00rahlxs005hd000zk00gdp.jpg\" alt=\"\">\r\n        </div>\r\n        <div class=\"textHistory\">\r\n          <ul>\r\n            <h4>历史</h4>\r\n            <li v-for=\"(item,index) in getkeyword.list\" @click=\"clickHistory(item)\">{{ item }}</li>\r\n          </ul>\r\n\r\n        </div>\r\n          <!--热搜榜单-->\r\n         <div class=\"hotsearch\" v-show=\"searchShow\">\r\n         <div class=\"one\">\r\n          <h4>热搜榜单</h4>\r\n          <p>播放全部</p>\r\n        </div>\r\n        <div class=\"musicList\">\r\n          <ul>\r\n            <li>\r\n              <p>1</p>\r\n              <h4>会不会</h4>\r\n              <span><i>Hot</i></span>\r\n            </li>\r\n            <li>\r\n              <p>2</p>\r\n              <h4>青花瓷</h4>\r\n              <span><i>Hot</i></span>\r\n            </li>\r\n            <li>\r\n              <p>3</p>\r\n              <h4>RBQ</h4>\r\n              <span><i>Hot</i></span>\r\n            </li>\r\n            <li>\r\n              <p>4</p>\r\n             <h4>Lemon</h4>\r\n              <span></span>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div class=\"moreMusic\">\r\n          <span>展开更多热搜</span>\r\n        </div>\r\n      </div>\r\n          <!--搜索的歌单列表-->\r\n          <div class=\"getSearch\" v-if=\"!searchShow\">\r\n              <div class=\"title\">\r\n                  <h4>单曲</h4>\r\n                  <span>\r\n                    <svg class=\"icon\" aria-hidden=\"true\">\r\n                    <use xlink:href=\"#icon-bofang\"></use>\r\n                    </svg>\r\n                    播放全部\r\n                  </span>\r\n              </div>\r\n              <div class=\"searchList\">\r\n                <div class=\"item\" v-for=\"(item,index) in searchList\" :key=\"item.id\">\r\n                  <div class=\"name\">\r\n                    <h4>{{ item.name }}</h4>\r\n                    <span>\r\n                      <i>SQ</i>\r\n                     {{item.artists[0].name}}\r\n                    </span>\r\n                  </div>\r\n                  <!--操作-->\r\n                  <div class=\"operation\">\r\n                    <svg class=\"icon\" aria-hidden=\"true\">\r\n                      <use xlink:href=\"#icon-bofang\"></use>\r\n                    </svg>\r\n                    <svg class=\"icon\" aria-hidden=\"true\">\r\n                      <use xlink:href=\"#icon-androidgengduo\"></use>\r\n                    </svg>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n          </div>\r\n   </div>\r\n</template>\r\n\r\n<script>\r\nimport {search} from \"@/network/search\";\r\nimport {useRouter,useRoute} from 'vue-router'\r\nimport {reactive, toRefs, ref, onMounted, watch} from 'vue';\r\nexport default {\r\n  name: \"Listview-top\",\r\n  props:{\r\n    playlist:{\r\n      type:Object\r\n    },\r\n    privileges:{\r\n      type:Array\r\n    }\r\n  },\r\n  components:{\r\n  },\r\n  setup(props){\r\n    //热搜\r\n    let placeholder = ref('周杰伦热歌')\r\n    //判断是否显示热搜,默认显示\r\n    let searchShow = ref(true);\r\n\r\n    //绑定的输入历史的内容\r\n    let histext = ref('');\r\n    //输入的历史\r\n    let keyword = reactive({\r\n      list:[]\r\n    });\r\n    //从location里取回的\r\n    let getkeyword = reactive({\r\n      list:['']\r\n    })\r\n\r\n    //创建一个对象，存储搜索返回的结果\r\n    let searchList = reactive({\r\n      searchList:['']\r\n    })\r\n\r\n    //创建一个方法用于把输入的内容存入localstorage\r\n    const addHistory = function (){\r\n      //先获取历史记录\r\n      let lis = JSON.parse(localStorage.getItem('keyWordList'))||[];\r\n      console.log('历史记录为',lis)\r\n      //去重\r\n      lis = [...new Set(lis)];\r\n      console.log('去重后为',lis)\r\n      //然后把历史记录加上输入的内容\r\n      lis.push(histext.value);\r\n\r\n      //每次都把输入的内容存入数组\r\n      keyword.list = lis;\r\n\r\n      //去重\r\n      keyword.list = [...new Set(keyword.list)];\r\n\r\n      //直接把数组转为字符串存入loca\r\n      localStorage.setItem('keyWordList',JSON.stringify(keyword.list));\r\n       //清空\r\n      histext.value='';\r\n      console.log('keywordlist',keyword.list)\r\n    }\r\n\r\n    //创建一个方法用于发送请求搜索歌曲\r\n    const searchMethod = async function (data){\r\n      console.log('我执行了')\r\n      //如果数据存在，说明调用了该方法，用该方法的数据进行查询\r\n      if(data){\r\n        //向搜索接口发送请求\r\n        const res = await search('/search','get',{keywords:data});\r\n        searchList.searchList = res.data.result.songs\r\n      }else{\r\n        //向搜索接口发送请求\r\n        const res = await search('/search','get',{keywords:histext.value});\r\n        searchList.searchList = res.data.result.songs\r\n      }\r\n\r\n    }\r\n\r\n    //创建一个方法用户点击历史记录进行搜索\r\n    const clickHistory = function (data){\r\n      searchMethod(data);\r\n    }\r\n\r\n    //监听数据变化输出数据\r\n    watch(()=>searchList,(newA,oldA)=>{\r\n      console.log('搜索的结果',searchList.searchList);\r\n      searchShow.value = false;\r\n    },{\r\n      deep:true\r\n    });\r\n\r\n    //数据挂载前\r\n    onMounted(()=>{\r\n      // //取出历史记录\r\n      getkeyword.list = JSON.parse(localStorage.getItem('keyWordList'));\r\n\r\n      console.log('取出的值',getkeyword.list)\r\n    });\r\n  return{\r\n    placeholder,histext,addHistory,keyword,getkeyword,searchMethod,searchShow,...toRefs(searchList),\r\n    clickHistory\r\n   }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n .search-top{\r\n   width: 7.5rem;\r\n   padding: 0 0.2rem;\r\n   overflow: hidden;\r\n   margin-bottom: 1.2rem;\r\n   .top{\r\n     display: flex;\r\n     justify-content: space-between;\r\n     height: 1rem;\r\n     align-items: center;\r\n     //padding: 0 0.2rem;\r\n     .icon{\r\n       width: 1rem;\r\n       height: 1rem;\r\n     }\r\n      input{\r\n        outline: none;\r\n        border-top:none;\r\n        border-left:none ;\r\n        border-right:none ;\r\n        width: 85%;\r\n        padding: 0.2rem 0;\r\n        font-size: 0.4rem;\r\n      }\r\n   }\r\n   .topimg{\r\n     margin-top: 0.2rem;\r\n     height: 1.2rem;\r\n     width: 100%;\r\n     //padding: 0 0.2rem;\r\n     img{\r\n       height: 1.2rem;\r\n       width: 100%;\r\n       object-fit: cover;\r\n       border-radius: 10px;\r\n     }\r\n   }\r\n   .textHistory{\r\n     //padding: 0 0.2rem;\r\n     height: 1rem;\r\n     width: 7.5rem;\r\n     overflow-y: hidden;\r\n     overflow-x:scroll;\r\n     white-space: nowrap;\r\n     display: flex;\r\n     align-items: center;\r\n     ul{\r\n       display: flex;\r\n       h4{\r\n         margin-right: 0.2rem;\r\n       }\r\n       li{\r\n         margin: -0.05rem 0.15rem 0;\r\n         padding: 0.1rem;\r\n         background: #d4d1d1;\r\n         border-radius: 10px;\r\n         font-size: 0.2rem;\r\n       }\r\n     }\r\n   }\r\n   .hotsearch{\r\n     .one{\r\n       display: flex;\r\n       width: 100%;\r\n       height: 1rem;\r\n       justify-content: space-between;\r\n       align-items: center;\r\n       border-bottom:1px solid #999999;\r\n       p{\r\n         padding: 0.03rem 0.09rem;\r\n         border: 1px solid #cccccc;\r\n         border-radius: 10px;\r\n         font-size: 0.27rem;\r\n       }\r\n     }\r\n     .musicList{\r\n       margin-top: 0.25rem;\r\n       width: 7.5rem;\r\n       ul{\r\n         display: flex;\r\n         flex-wrap: wrap;\r\n         li{\r\n           width: 50%;\r\n           height: 0.5rem;\r\n           display: flex;\r\n\r\n           p{\r\n             margin-right: 0.30rem;\r\n           }\r\n\r\n           span{\r\n             margin-left: 0.30rem;\r\n           }\r\n         }\r\n         li:nth-child(-n+3){\r\n           p{\r\n             color: #f04545;\r\n           }\r\n           span{\r\n             color: #f04545;\r\n           }\r\n         }\r\n       }\r\n     }\r\n     .moreMusic{\r\n       margin-top: 0.4rem;\r\n       text-align: center;\r\n     }\r\n\r\n   }\r\n   .getSearch{\r\n     margin-top: 0.3rem;\r\n      .title{\r\n        display: flex;\r\n        justify-content: space-between;\r\n        height: 1rem;\r\n        align-items: center;\r\n        span{\r\n          padding: 0.05rem 0.1rem;\r\n          border: 1px solid #cccccc;\r\n          border-radius: 15px;\r\n          font-size: 0.25rem;\r\n          .icon{\r\n            width: 0.25rem;\r\n            height: 0.25rem;\r\n          }\r\n        }\r\n      }\r\n   }\r\n   .searchList{\r\n     .item{\r\n       display: flex;\r\n       justify-content: space-between;\r\n       height: 1.2rem;\r\n       align-items: center;\r\n       .name{\r\n         width: 70%;\r\n          h4{\r\n            overflow: hidden;\r\n            white-space: nowrap;\r\n            text-overflow: ellipsis;\r\n          }\r\n         span{\r\n           font-size: 0.25rem;\r\n           color: #7cbbf8;\r\n           i{\r\n             border: 1px solid #f04545;\r\n             color: #f04545;\r\n             font-size: 0.22rem;\r\n             padding:0  0.05rem;\r\n           }\r\n\r\n         }\r\n       }\r\n       .operation{\r\n          .icon{\r\n            margin-right: 0.1rem;\r\n          }\r\n       }\r\n     }\r\n   }\r\n }\r\n</style>","import {request} from \"@/network/request\";\r\n\r\nexport  function search (url,method,data){\r\n    return  request('http://139.155.39.14:3000'+url,method,data);\r\n}","import { render } from \"./Search-top.vue?vue&type=template&id=273826e4&scoped=true\"\nimport script from \"./Search-top.vue?vue&type=script&lang=js\"\nexport * from \"./Search-top.vue?vue&type=script&lang=js\"\n\nimport \"./Search-top.vue?vue&type=style&index=0&id=273826e4&scoped=true&lang=less\"\n\nimport exportComponent from \"H:\\\\项目\\\\vue\\\\music\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-273826e4\"]])\n\nexport default __exports__","import { render } from \"./SearchView.vue?vue&type=template&id=4ab23da8\"\nimport script from \"./SearchView.vue?vue&type=script&lang=js\"\nexport * from \"./SearchView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"H:\\\\项目\\\\vue\\\\music\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_createVNode","_component_searchTop","_createElementVNode","_hoisted_3","src","alt","_hoisted_11","onClick","_ctx","go","type","$setup","$event","placeholder","onKeydown","_hoisted_6","_hoisted_8","_Fragment","_renderList","list","item","index","_hoisted_9","_hoisted_14","_hoisted_16","key","id","_toDisplayString","name","_hoisted_19","artists","_hoisted_20","search","url","method","data","request","props","playlist","Object","privileges","Array","components","setup","ref","searchShow","histext","keyword","reactive","getkeyword","searchList","addHistory","lis","JSON","parse","localStorage","getItem","console","log","Set","push","value","setItem","stringify","searchMethod","async","res","keywords","result","songs","clickHistory","watch","newA","oldA","deep","onMounted","toRefs","__exports__","searchTop","render"],"sourceRoot":""}